{
  "rules": {
    "graduation": {
      "$year": {
        "meta": {
          ".read": "auth != null && (auth.token.email == 'ssclass42023@gmail.com' || auth.token.email == 'socratesschool2020@gmail.com')",
          ".write": "auth != null && (auth.token.email == 'ssclass42023@gmail.com' || auth.token.email == 'socratesschool2020@gmail.com')"
        },
        "students": {
          ".read": "auth != null && (auth.token.email == 'ssclass42023@gmail.com' || auth.token.email == 'socratesschool2020@gmail.com')",
          ".write": "auth != null && (auth.token.email == 'ssclass42023@gmail.com' || auth.token.email == 'socratesschool2020@gmail.com')"
        },
        "payments": {
          ".read": "auth != null && (auth.token.email == 'ssclass42023@gmail.com' || auth.token.email == 'socratesschool2020@gmail.com')",
          ".write": "auth != null && (auth.token.email == 'ssclass42023@gmail.com' || auth.token.email == 'socratesschool2020@gmail.com')"
        },
        "expenses": {
          ".read": "auth != null && (auth.token.email == 'ssclass42023@gmail.com' || auth.token.email == 'socratesschool2020@gmail.com')",
          ".write": "auth != null && (auth.token.email == 'ssclass42023@gmail.com' || auth.token.email == 'socratesschool2020@gmail.com')"
        },
        "audits": {
          ".read": "auth != null && (auth.token.email == 'ssclass42023@gmail.com' || auth.token.email == 'socratesschool2020@gmail.com')",
          ".write": "auth != null && (auth.token.email == 'ssclass42023@gmail.com' || auth.token.email == 'socratesschool2020@gmail.com')"
        },
        "certificates": {
          "$student": {
            ".read": "auth != null && ((auth.token.email == 'ssclass42023@gmail.com' || auth.token.email == 'socratesschool2020@gmail.com') || root.child('graduation').child($year).child('students').child($student).child('parentEmail').val() == auth.token.email)",
            ".write": "auth != null && (auth.token.email == 'ssclass42023@gmail.com' || auth.token.email == 'socratesschool2020@gmail.com')"
          }
        },
        "galleries": {
          ".read": "auth != null",
          "$photo": {
            ".write": "auth != null && (auth.token.email == 'ssclass42023@gmail.com' || auth.token.email == 'socratesschool2020@gmail.com')"
          }
        }
      }
    }
  }
}
